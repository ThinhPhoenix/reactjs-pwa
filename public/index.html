<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="/favicon.png" />

    <link rel="manifest" href="/manifest.json?v=2" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- Prevent zoom on input focus (iOS) -->
    <!--
    Source - https://stackoverflow.com/a
    Posted by SW4, modified by community. See post 'Timeline' for change history
    Retrieved 2026-01-18, License - CC BY-SA 4.0
    -->
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"
    />

    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages
      // This script checks to see if a redirect is present in the query string,
      // converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      ((l) => {
        if (l.search[1] === '/') {
          var decoded = l.search
            .slice(1)
            .split('&')
            .map((s) => s.replace(/~and~/g, '&'))
            .join('?');
          window.history.replaceState(
            null,
            null,
            l.pathname.slice(0, -1) + decoded + l.hash,
          );
        }
      })(window.location);
    </script>
    <!-- End Single Page Apps for GitHub Pages -->

    <script src="./waheim-sdk.js"></script>
    <script>
      // Debug script
      window.addEventListener('load', () => {
        console.log('[Debug] Page loaded');
        console.log(
          '[Debug] WaheimSDK available:',
          typeof window.WaheimSDK !== 'undefined',
        );
        console.log(
          '[Debug] Standalone detection:',
          window.WaheimSDK ? window.WaheimSDK.isStandalone() : 'SDK not loaded',
        );

        // Test drawer after 3 seconds
        setTimeout(() => {
          console.log('[Debug] Testing drawer...');
          if (window.WaheimSDK) {
            window.WaheimSDK.forceShowDrawer();
          }
        }, 3000);
      });
    </script>
  </head>

  <body>
    <div id="root"></div>

    <!-- Test button for SDK -->
    <!-- <div style="position: fixed; top: 10px; right: 10px; z-index: 1000">
      <button
        onclick="window.waheimSDK.forceShowDrawer()"
        style="
          background: #667eea;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
        "
      >
        Test Drawer
      </button>
    </div> -->
  </body>
</html>
